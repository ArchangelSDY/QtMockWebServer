<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>QtMockWebServer: QtMockWebServer [![Build Status](https://travis-ci.org/ArchangelSDY/QtMockWebServer.svg?branch=master)](https://travis-ci.org/ArchangelSDY/QtMockWebServer)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">QtMockWebServer
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_qt_mock_web_server.html" title="A mock web server serving requests using pre-queued mock responses by default. ">QtMockWebServer</a> [![Build Status](<a href="https://travis-ci.org/ArchangelSDY/QtMockWebServer.svg?branch=master">https://travis-ci.org/ArchangelSDY/QtMockWebServer.svg?branch=master</a>)](<a href="https://travis-ci.org/ArchangelSDY/QtMockWebServer">https://travis-ci.org/ArchangelSDY/QtMockWebServer</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A mock web server implemented using Qt for testing HTTP clients. This project is inspired by the mock web server in project <a href="https://github.com/square/okhttp/tree/master/mockwebserver">okhttp</a>, with small changes to API names to make it a bit more Qt style. Thanks to their great work!</p>
<h3>Example</h3>
<p>```cpp // Create a <a class="el" href="class_qt_mock_web_server.html" title="A mock web server serving requests using pre-queued mock responses by default. ">QtMockWebServer</a>. <a class="el" href="class_qt_mock_web_server.html" title="A mock web server serving requests using pre-queued mock responses by default. ">QtMockWebServer</a> server;</p>
<p>// Schedule some responses. server.enqueue(<a class="el" href="class_mock_response.html" title="The mock response to be sent to client. ">MockResponse()</a>.setBody("hello, world!")); server.enqueue(<a class="el" href="class_mock_response.html" title="The mock response to be sent to client. ">MockResponse()</a>.setBody("sup, bra?")); server.enqueue(<a class="el" href="class_mock_response.html" title="The mock response to be sent to client. ">MockResponse()</a>.setBody("yo dog"));</p>
<p>// Start the server. server.play();</p>
<p>// Ask the server for its URL. You'll need this to make HTTP requests. QUrl baseUrl = server.getUrl("/v1/chat/");</p>
<p>// Exercise your application code, which should make those HTTP requests. // Responses are returned in the same order that they are enqueued. Chat chat = new Chat(baseUrl);</p>
<p>chat.loadMore(); assertEquals("hello, world!", chat.messages());</p>
<p>chat.loadMore(); chat.loadMore(); QCOMPARE(chat.messages(), QString("hello, world!\nsup, bra?\nyo dog"));</p>
<p>// Optional: confirm that your app made the HTTP requests you were expecting. <a class="el" href="class_recorded_request.html" title="The recorded request to be validated. ">RecordedRequest</a> request1 = server.takeRequest(); QCOMPARE(request1.path(), QString("/v1/chat/messages/")); QVERIFY2(!request1.header("Authorization").isEmpty(), "Authorization header is empty.");</p>
<p><a class="el" href="class_recorded_request.html" title="The recorded request to be validated. ">RecordedRequest</a> request2 = server.takeRequest(); QCOMPARE(request2.path(), QString("/v1/chat/messages/2"));</p>
<p><a class="el" href="class_recorded_request.html" title="The recorded request to be validated. ">RecordedRequest</a> request3 = server.takeRequest(); QCOMPARE(request3.path(), QString("/v1/chat/messages/3"));</p>
<p>// Shut down the server. Instances cannot be reused. server.shutdown(); ```</p>
<h3>TODO</h3>
<ul>
<li>HTTPS support.</li>
<li>Throttle control.</li>
</ul>
<h3>License</h3>
<pre class="fragment">Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 27 2014 22:30:53 for QtMockWebServer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
